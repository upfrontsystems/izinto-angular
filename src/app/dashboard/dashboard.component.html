<div fxLayout="row wrap" class="clear" id="dashboard">
    <div fxFlex="100" class="p-b-20">
        <mat-card *ngIf="dashboard" [class]="dashboard.type == 'new' && 'full-height' || ''">

            <app-dashboard-date-selector *ngIf="!dashboard.date_hidden" [mobileQueryMatches]="mobileQuery.matches"
                                         [dateViews]="dateViews">
            </app-dashboard-date-selector>

            <mat-card-content [class]="'dashboard-' + dashboard.type">

                <mat-card-subtitle *ngIf="dashboard.description" class="m-l-30">{{dashboard.description}}</mat-card-subtitle>

                <app-single-stat-list *ngIf="dashboard.type == 'old'" [dashboardId]="dashboardId"
                                      [addedSingleStat]="addedSingleStat"
                                      [variables]="dashboard.variables" [dataSources]="dataSources">
                </app-single-stat-list>

                <app-chart-list *ngIf="dashboard.type == 'old'" appMouseListener [dateViews]="dateViews"
                                [dashboardId]="dashboardId" [addedChart]="addedChart" [variables]="dashboard.variables"
                                [dataSources]="dataSources"></app-chart-list>

                <iframe #iframe *ngIf="dashboard.type == 'new'" class="b-0" scrolling="yes"
                        allowfullscreen id="dashboard-{{dashboard.id}}"
                        sandbox="allow-same-origin allow-scripts allow-downloads allow-popups allow-forms allow-popups-to-escape-sandbox allow-top-navigation-by-user-activation"
                        [src]="contentURL"></iframe>

            </mat-card-content>

        </mat-card>
    </div>
</div>
<app-fab-speed-dial *ngIf="isAdmin && (dashboard && dashboard.type == 'old')" (buttonClick)="fabClick($event)"
                    [fabButtons]="fabButtons"></app-fab-speed-dial>
