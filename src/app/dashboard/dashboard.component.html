<div fxLayout="row wrap">
    <div fxFlex="100">
        <mat-card>
            <mat-card-content>
                <mat-card-title>{{dashboard?.title}}</mat-card-title>
                <mat-card-subtitle>{{dashboard?.description}}</mat-card-subtitle>
            </mat-card-content>

            <mat-toolbar class="no-shadow">
                <mat-toolbar-row>
                    <div fxShow="false" fxShow.gt-xs>
                        <button mat-button (click)="updateView('hour')" [class.active]="view == 'hour'">Hour</button>
                        <button mat-button (click)="updateView('day')" [class.active]="view == 'day'">Day</button>
                        <button mat-button (click)="updateView('week')" [class.active]="view == 'week'">Week</button>
                        <button mat-button (click)="updateView('month')" [class.active]="view == 'month'">Month</button>
                    </div>

                    <div fxHide="false" fxHide.gt-xs>
                        <button mat-icon-button (click)="view = 'month'" [class.active]="view === 'month'">
                            <mat-icon>view_module</mat-icon>
                        </button>
                        <button mat-icon-button (click)="view = 'week'" [class.active]="view === 'week'">
                            <mat-icon>view_week</mat-icon>
                        </button>
                        <button mat-icon-button (click)="view = 'day'" [class.active]="view === 'day'">
                            <mat-icon>view_day</mat-icon>
                        </button>
                    </div>

                    <span fxFlex fxHide="false" fxHide.gt-xs></span>
                </mat-toolbar-row>
            </mat-toolbar>

            <mat-card-content>
                <div class="d3-chart" #chart></div>

                <confirmation #deleteConfirm [title]="'Delete chart'"
                              [content]="'Are you sure you wish to permanently delete this chart?'">
                </confirmation>

            </mat-card-content>

            <mat-card-content>
                <mat-card-title style="width: 100%;">Variables</mat-card-title>

                <div>
                    <div fxLayout="row">
                        <div fxFlex="30" class="mat-header-cell">id</div>
                        <div fxFlex="50" class="mat-header-cell">Value</div>
                        <div fxFlex="20" class="mat-header-cell"></div>
                    </div>

                    <div fxLayout="row" class="mat-row" *ngFor="let variable of dashboard?.variables">
                        <div fxFlex="30" class="mat-cell">{{variable.name}}</div>
                        <div fxFlex="50" class="mat-cell">{{variable.value}}</div>
                        <div fxFlex="20" class="mat-cell">
                            <button mat-button color="danger" (click)="deleteVarConfirm.show()" title="Delete"
                                    class="pull-right hover-action">
                                <mat-icon>delete</mat-icon>
                            </button>
                            <confirmation #deleteVarConfirm [title]="'Delete variable'"
                                          (onAccept)="deleteVariable(variable)">
                            </confirmation>
                            <button mat-button (click)="editVariable(variable)" title="Edit"
                                    class="pull-right hover-action">
                                <mat-icon>edit</mat-icon>
                            </button>
                        </div>
                    </div>
                </div>
            </mat-card-content>

        </mat-card>
    </div>
</div>
<app-fab-speed-dial (buttonClick)="fabClick($event)" [fabButtons]="fabButtons"></app-fab-speed-dial>
